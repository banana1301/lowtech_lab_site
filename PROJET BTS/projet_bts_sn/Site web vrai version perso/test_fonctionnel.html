<html>
  <head>

<!--------DEBUT CSS DE LA PAGE-------->
    <style>
      #CONTENU {
        filter: url(#myFilter);
      }
      img{
        width: 300px;
        height: auto;
      }
    </style>
  </head>
<!--------FIN CSS DE LA PAGE-------->


<!--------DEBUT INITIALISATION DES FILTRES-------->

  <body>
    <svg style="display: none">
      <defs>
        <filter id="protanopiaColourMatrix"> <!--id du filtre-->
          <feColorMatrix
              type="matrix"
              values=".56667 .43333 0      0 0
                      .55833 .44167 0      0 0
                      0      .24167 .75833 0 0
                      0      0      0      1 0" /> <!--matrice de couleur relative à la protanopia (nom anglais)-->
        </filter>

        <filter id="protanomalyColourMatrix">
            <feColorMatrix
              type="matrix"
              values=".81667 .18333 0    0 0
                      .33333 .66667 0    0 0
                      0      .125   .875 0 0
                      0      0      0    1 0" />
        </filter>

        <filter id="deuteranopiaColourMatrix"> <!--id du filtre-->
          <feColorMatrix
              type="matrix"
              values=".625 .375 0  0 0
                      .7   .3   0  0 0
                      0    .3   .7 0 0
                      0    0    0  1 0" /> <!--matrice de couleur relative à la deuteranopia (nom anglais)-->
        </filter>

        <filter id="deutranomalyColourMatrix"> <!--id du filtre-->
          <feColorMatrix
              type="matrix"
              values=".8     .2     0      0 0
                      .25833 .74167 0      0 0
                      0      .14167 .85833 0 0
                      0      0      0      1 0" /> <!--matrice de couleur relative à la deutranomaly (nom anglais)-->
        </filter>

        <filter id="tritanopiaColourMatrix"> <!--id du filtre-->
          <feColorMatrix
            type="matrix"
            values=".95 .5     0      0 0
                    0   .43333 .56667 0 0
                    0   .475   .525   0 0
                    0   0      0      1 0" /> <!--matrice de couleur relative à la tritanopia (nom anglais)-->
        </filter>

        <filter id="tritanomalyColourMatrix"> <!--id du filtre-->
          <feColorMatrix
              type="matrix"
              values=".96667 .3333  0      0 0
                      0      .73333 .26667 0 0
                      0      .18333 .81667 0 0
                      0      0      0      1 0" /> <!--matrice de couleur relative à la tritanomaly (nom anglais)-->
        </filter>

        <filter id="achromatopsiaColourMatrix"> <!--id du filtre-->
          <feColorMatrix
              type="matrix"
              values=".299 .587 .114 0 0
                      .299 .587 .114 0 0
                      .299 .587 .114 0 0
                      0    0    0    1 0" /> <!--matrice de couleur relative à l'achromatopsia (nom anglais)-->
        </filter>

      </defs>
    </svg>
<!--------FIN INITIALISATION DES FILTRES-------->


<!--------DEBUT PAGE HTML-------->

    <div id="CONTENU">
      <h1>This is some text</h1>

<!--------BOUTON SELECTION DALTONISME-------->
      <div>
        <select id="colorFilterSelect">
          <option>Vision couleur</option>
          <option>Protanopia</option>
          <option>protanomaly</option>
          <option>deuteranopia</option>
          <option>deutranomaly</option> <!--les differentes options-->
          <option>tritanopia</option>
          <option>tritanomaly</option>
          <option>achromatopsia</option>

        </select>
      </div>

      <img src="image.jpg" alt="image">
      <p style="color: blue;">Ceci est bleu</p>
      <p style="color: red;">Ceci est rouge</p>
      <p style="color: green;">Ceci est vert</p>
    </div>

<!--------FIN PAGE HTML-------->


<!--------DEBUT JAVASCRIPT DU BOUTON SELECTION DE DALTONISME-------->
    <script>
      var select = document.getElementById("colorFilterSelect"); /* REGARDE CE QUI EST SELECTIONNEE DANS LE BOUTTON colorFilterSelec */
      var CONTENU = document.getElementById("CONTENU"); /* REGARDE CE QUI CE SITUE DANS LES div >>CONTENU<< */
      select.addEventListener("change", function() { /* ECOUTE S'IL Y A DU CHANGEMENT DANS select SI OUI IL EFFECTUE FONCTION DEFINIE EN DESSOUS */
        if (select.value === "Protanopia") {
          CONTENU.style.filter = "url(#protanopiaColourMatrix)";
        } else if (select.value === "protanomaly") {
          CONTENU.style.filter = "url(#protanomalyColourMatrix)";
        } else if (select.value === "deuteranopia") {
          CONTENU.style.filter = "url(#deuteranopiaColourMatrix)";
        } else if (select.value === "deutranomaly") {               /* TEST DE LA VALEUR DE select */
          CONTENU.style.filter = "url(#deutranomalyColourMatrix)";  /* APPLIQUE AUX div d'ID "CONTENU" LE FILTRE D'URL DONNEE */
        } else if (select.value === "tritanopia") {
          CONTENU.style.filter = "url(#tritanopiaColourMatrix)";
        } else if (select.value === "tritanomaly") {
          CONTENU.style.filter = "url(#tritanomalyColourMatrix)";
        } else if (select.value === "achromatopsia") {
          CONTENU.style.filter = "url(#achromatopsiaColourMatrix)";
        } else {
          CONTENU.style.filter = "none";
        }
      });
    </script>
<!--------FIN JAVASCRIPT DU BOUTON SELECTION DE DALTONISME-------->
  </body>
</html>
